---
title: 知识点汇总3
tags:
  - null
categories:
  - null
date: 2020-05-31 14:03:50
---

64. ~~大数据相关，MapReduce~~ 不考虑

65. Docker的原理【待看】

    [Docker核心技术与实现原理](http://www.dockone.io/article/2941)

    [Docker底层原理介绍](https://www.jianshu.com/p/e1f7b8d5184c)

66. Http协议

    1. 基础概念

       1. URI：uniform resource identifier 统一资源标识符

          1. URL：uniform resource locator 统一资源定位符
          2. URN：uniform resource name 统一资源名称
          3. URI包括URL和URN

       2. 请求报文的格式

          1. request line 请求行：请求方法，URL，协议

          2. request headers 请求头：各种header

          3. 请求行和请求头合称为**请求消息头**

          4. 空行分隔开请求头和请求消息体

          5. request message body **请求消息体**：key-value形式或者raw格式等等

             ![image-20200531143718430](/github/northernw.github.io/image/image-20200531143718430.png)

       3. 响应报文的格式

          1. status line 状态行：协议，状态码

          2. response headers 响应头

          3. 状态行和响应头合称为响应消息头

          4. 空行分隔开消息头和消息体

          5. response message body 响应消息体

             ![image-20200531143732598](/github/northernw.github.io/image/image-20200531143732598.png)

    2. HTTP方法

       1. get 主要用来获取资源
       2. head 获取报文首部，主要用于确认 URL 的有效性以及资源更新的日期时间等。
       3. post 主要用来传输数据
       4. put 上传文件，不带验证机制存在安全问题，一般不使用
       5. patch 对资源进行部分修改 -- 也不常用
       6. delete 删除文件，与put功能相反，同样不带验证机制
       7. options 查询支持的方法，会返回`Allow: GET, POST, HEAD, OPTIONS`这样的内容
       8. connect 要求在与代理服务器通信时建立隧道。使用 SSL(Secure Sockets Layer，安全套接层)和 TLS(Transport Layer Security，传输层安全)协议把通信内容 加密后经网络隧道传输。
       9. trace 追踪路径，一般也不用...

    3. HTTP状态码

       简要记一下

       1. 1XX 信息性状态码，接收的请求正在处理
       2. 2XX 请求正常处理完毕
       3. 3XX 重定向
       4. 4XX 客户端错误
       5. 5XX 服务端错误

    4. 再关注下前面的http和HTTPS的比较

       

67. cookie session介绍一下

    1. cookie

       1. 是服务器发送到用户浏览器并保持在本地的一小块数据，会在浏览器向同一服务器再次发起请求时被带上。
       2. 用途：
          1. 会话状态管理（比如用户登录状态、购物车等）
          2. 个性化设置（比如用户自定义设置、主题等）
          3. 浏览器行为分析
       3. 生成方式
          1. 服务器发送`Set-Cookie: yummy_cookie=choco`这样的header，客户端得到响应报文后把cookie存在浏览器
          2. 浏览器通过`document.cookie`属性可创建新的cookie
       4. HttpOnly 标记为 HttpOnly 的 Cookie 不能被 JavaScript 脚本调用。
       5. Secure 标记为 Secure 的 Cookie 只能通过被 HTTPS 协议加密过的请求发送给服务端。但即便设置了 Secure 标记，敏感信 息也不应该通过 Cookie 传输，因为 Cookie 有其固有的不安全性，Secure 标记也无法提供确实的安全保障。

    2. session

       1. 存储在服务端，可以存储在服务器上的文件、数据库或者内存中。也可以将 Session 存储在 Redis 这种内存型数据库中
       2. 使用 Session 维护用户登录状态的过程如下:
          1. 用户进行登录时，用户提交包含用户名和密码的表单，放入 HTTP 请求报文中; 
          2. 服务器验证该用户名和密码，如果正确则把用户信息存储到 Redis 中，它在 Redis 中的 Key 称为 Session ID; 
          3. 服务器返回的响应报文的 Set-Cookie 首部字段包含了这个 Session ID，客户端收到响应报文之后将该 Cookie 值存入浏览器中;
          4. 客户端之后对同一个服务器进行请求时会包含该 Cookie 值，服务器收到之后提取出 Session ID，从 Redis 中取 出用户信息，继续之前的业务操作。

    3. cookie和session的选择

       1. cookie只能存储ASCII码字符串，session可以存储任何类型的数据

       2. cookie存储在浏览器中，安全性较低

       3. 对于大型网址，如果所有用户信息都存储在session中，开销比较大 -- 【感觉不是个问题...】

          

68. session表结构怎么设计，储存在哪里？

    1. 我们项目里没有直接使用session，用的是商城统一单点登录
    2. 
    3. 如果我设计
       1. 首先一个用户请求过来，如果没有带session id，先重定向到登录页
       2. 收到登录请求，身份验证通过后，生成一个session，key为唯一ID，即session id，value为需要存储的信息，比如用户名、生成时间等，将session id作为cookie响应发回浏览器
       3. 众多的session是key-value结构，session本身也是key-value结构
       4. 存储在Redis

69. 你们的session cookie在项目里运用到哪里？

    1. session是SSO用的，cookie也主要是SSO用的
    2. 偶尔用的cookie是虚拟登录这样的场景
       1. 比如超级账号：员工的erp账号以只读的形式登录到用户账号，主要用于排查问题
       2. 比如账号管家：系统中，账号体系中的主账号可以登录到子账号上，一般也只读
       3. 再如虚拟登录，业务范畴上，两个账号建立授权关系，B账号可以虚拟登录到A账号上，代为操作系统
       4. 实现：被登录人一般是sso中的session对应的用户，属于资源所属者；操作者是erp账号、主账号、虚拟登录账号等，会有登录类型区分，这些信息会先加密，再存入cookie中（还会有不同的拦截器，进行身份和权限验证）

70. 单点登录的实现

    1. CAS

       TGT：Ticket Granted Ticket（俗称大令牌，或者说票根，他可以签发ST）。【类似session】

       TGC：Ticket Granted Cookie（cookie中的value），存在Cookie中，根据他可以找到TGT。【类似session id】

       ST：Service Ticket （小令牌），是TGT生成的，默认是用一次就生效了。也就是上面的ticket值。

       ps: 未登录状态下，访问app1时，展示登录页，浏览器会写入cas服务器的TGC；第二次访问app2，（因为app2本身校验当前请求未登录）重定向到cas服务器时，会带上TGC，cas服务器根据TGC判断用户已登录，签发新的ST再重定向到app2，这时候app2用ST校验通过，记录下自己的session cookie，提供请求内容。

       ![img](/github/northernw.github.io/image/167772fc86501755.png)

    2. OAuth

71. 算法题：[删除链表中重复的节点]在一个排序的链表中,存在重复的节点,请删除该链表中重复的节点,重复的节点不保留,返回链表头指针.例如,链表1-2-3-3-4-4-5处理后为1-2-5

72. TCP/UDP的区别介绍一下

73. TCP如何保证传输的有效性。

74. TCP的拥塞控制

75. TCP建立连接的三次握手

76. TCP四次挥手断开连接

77. Java的锁机制

78. 死锁产生的原因

79. 三次握手和四次挥手,time_wait是什么状态

80. B树 B+树区别说一下

81. 数据库平时用到过什么 咱们先问MySQL MySQL索引原理知道吗，问了两种索引的区别

82. 索引的分类和优缺点

83. innodb和myisam的区别

84. 乐观锁悲观锁区别说一下

85. 数据库四种隔离状态 分别有什么问题

86. redis的数据结构

87. sortset底层，原理，怎么保证有序

88. 冯诺依曼计算机的结构

89. 操作系统的虚拟内存

90. 进程的调度

91. 进程间的通讯方式

92. 线程间的同步方式

93. 进程和线程的区别

94. 常见的排序算法

95. spring 事务实现

      

## 扩展信息备查
1. http status备查

    1XX 信息
     100 Continue :表明到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。

    2XX 成功

    200 OK
     204 No Content :请求已经成功处理，但是返回的响应报文不包含实体的主体部分。一般在只需要从客户端 往服务器发送信息，而不需要返回数据时使用。
     206 Partial Content :表示客户端进行了范围请求，响应报文包含由 Content-Range 指定范围的实体内容。

    3XX 重定向

    301 Moved Permanently :永久性重定向
     302 Found :临时性重定向
     303 See Other :和 302 有着相同的功能，但是 303 明确要求客户端应该采用 GET 方法获取资源。
     注:虽然 HTTP 协议规定 301、302 状态下重定向时不允许把 POST 方法改成 GET 方法，但是大多数浏览器都 会在 301、302 和 303 状态下的重定向把 POST 方法改成 GET 方法。
     304 Not Modified :如果请求报文首部包含一些条件，例如:If-Match，If-Modified-Since，If-None- Match，If-Range，If-Unmodified-Since，如果不满足条件，则服务器会返回 304 状态码。
     307 Temporary Redirect :临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法。

    4XX 客户端错误

    400 Bad Request :请求报文中存在语法错误。
     401 Unauthorized :该状态码表示发送的请求需要有认证信息(BASIC 认证、DIGEST 认证)。如果之前已进 行过一次请求，则表示用户认证失败。
     403 Forbidden :请求被拒绝。
     404 Not Found

    5XX 服务器错误
     500 Internal Server Error :服务器正在执行请求时发生错误。

    503 Service Unavailable :服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。